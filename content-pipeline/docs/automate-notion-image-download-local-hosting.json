{
  "title": "自動化 Notion 圖片下載至本地主機並替換部落格文章",
  "subTitle": "實現從 Notion 文章自動提取圖片連結、下載並重新命名的工作流程，提升部落格圖片管理效率",
  "content": "### 重點 — Notion 圖片下載來 Host 在本地端\n\n1. fetch Notion 文章\n2. 文章擷取圖片連結\n3. 下載並改檔名為包含 hash 的，以免撞名。並且輸出`檔名匹配表`，以供後續對應替換使用。\n4. 執行後續 notion to strapi 工作流，並且要把圖片連結改為吃到本地端的該張圖。\n5. 最後執行成功，把`檔名匹配表`給刪除。\n\n### 檢核清單\n\n- [x] 文章擷取圖片連結\n- [x] 下載並改檔名為包含 hash 的，以免撞名。並且輸出`檔名匹配表`，以供後續對應替換使用。\n- [ ] 執行後續 notion to strapi 工作流，並且要把圖片連結改為吃到本地端的該張圖。\n- [ ] 最後執行成功，把`檔名匹配表`給刪除。\n\n### 舉例\n\n圖片範例\n\n- 範例1（電腦截圖後複製貼上）\n\t<image source=\"https://prod-files-secure.s3.us-west-2.amazonaws.com/fff5f3c1-2a27-4f2f-89c7-0757cdb22f0d/85cd63d0-1930-45a8-a22a-2830fb8f7568/image.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664HWF6CG2%2F20251211%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251211T051323Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEB0aCXVzLXdlc3QtMiJHMEUCIAM%2Fa8p0%2BoPbFXCT2U%2Faq8gXrvWwf7PWiR9OzTUVNA1dAiEA%2FL7OA%2FosHcyNPliZIF0cM0NJX0l7r%2FPi4UaSiX7k3agqiAQI5v%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDIgdqBIjLVVD2O7xHSrcAxQwonH2jPHkbC8k9JUcbGePVE4zG%2F1qwJInBMcOWlFF0WQ33v9AT9edTuxLy2QAa4jJVClZyu6h0aaR5SVEFKiCgx3aGbyUUUwc0XCsrAk2M8sj0n7R%2F8kRV1%2BrSEhLAlxqNRTMRtfdrRAYU6xpYveyKCRrcNoSAc%2BxIx4MvsAkSPBc%2B%2BNwlJVMoUt7v4vEx8PXg3gXFV%2BMqod%2FJBWDLV91WcRazsn%2B7Y2Y8gMjfyf89WXw8a%2BgUm4bBySx%2FMTFKZPfe0qzRt9W4hO2TLbTbOKfLD57GuykJ6D8MWu9jUooDgOKXwCFK7ekZdRxx91CDcrM32IDBfYwGLr1u1b4IJe6pIcjNmnaMFcCzcopS%2Fd4e%2FllXqwZbk42wDTIco0uLa3BDq34ZsKbyhAwitIDe4UHfbMag3USbQpSyAK2aEFxZN00qdChVe9w%2FLd9jaJSQLO4DrwNDq%2BcUdTSnxl0O7%2BcAINEZ4SS1EWRLloABrcvuqmDd84tNGvtZXaOtjgOox8gQsBs%2BBoLlbUBUPKA4Zr%2F3gmc9K%2FIl0NZqoZxJAoqeHg043e3ykfP8J3yvLOtO4CuZK%2FHibPbBnb5Yf9oUf9HDAOmagocmouPDa5Gs9%2BWdbZJ68J60ErZrGXEMIOj6ckGOqUB1Og51E5%2BC8gPFerBiC9rte7B9uGYWKLTpoA3REozVYTf1IHmG6JkrG4cshCPygEdus%2F2%2F1pS4A4jAAjFFWSHaZYKiKMXpoGLypQ5RwBExxL3%2BNjQ8qQdoEDjRa%2FcO%2F5%2F6ob79ddrao8LxqDvJDBEriuBLM9yz5wZJrFcMApi78qCL0WhOPDtuSBBriR6bXgIJ992a9W0KOAv610AQTdY9OTBf3Li&X-Amz-Signature=b9cb59ee9506e46f1388a745a507ff5ea2ff6ff83a4cc258414eb11be0307735&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject\"></image>\n\n- 範例2（從硬碟上傳）\n\t<image source=\"https://prod-files-secure.s3.us-west-2.amazonaws.com/fff5f3c1-2a27-4f2f-89c7-0757cdb22f0d/619180f2-e7aa-4196-ad47-59894ee75069/IMG_7117.heic?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=ASIAZI2LB4664HWF6CG2%2F20251211%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20251211T051323Z&X-Amz-Expires=3600&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEB0aCXVzLXdlc3QtMiJHMEUCIAM%2Fa8p0%2BoPbFXCT2U%2Faq8gXrvWwf7PWiR9OzTUVNA1dAiEA%2FL7OA%2FosHcyNPliZIF0cM0NJX0l7r%2FPi4UaSiX7k3agqiAQI5v%2F%2F%2F%2F%2F%2F%2F%2F%2FARAAGgw2Mzc0MjMxODM4MDUiDIgdqBIjLVVD2O7xHSrcAxQwonH2jPHkbC8k9JUcbGePVE4zG%2F1qwJInBMcOWlFF0WQ33v9AT9edTuxLy2QAa4jJVClZyu6h0aaR5SVEFKiCgx3aGbyUUUwc0XCsrAk2M8sj0n7R%2F8kRV1%2BrSEhLAlxqNRTMRtfdrRAYU6xpYveyKCRrcNoSAc%2BxIx4MvsAkSPBc%2B%2BNwlJVMoUt7v4vEx8PXg3gXFV%2BMqod%2FJBWDLV91WcRazsn%2B7Y2Y8gMjfyf89WXw8a%2BgUm4bBySx%2FMTFKZPfe0qzRt9W4hO2TLbTbOKfLD57GuykJ6D8MWu9jUooDgOKXwCFK7ekZdRxx91CDcrM32IDBfYwGLr1u1b4IJe6pIcjNmnaMFcCzcopS%2Fd4e%2FllXqwZbk42wDTIco0uLa3BDq34ZsKbyhAwitIDe4UHfbMag3USbQpSyAK2aEFxZN00qdChVe9w%2FLd9jaJSQLO4DrwNDq%2BcUdTSnxl0O7%2BcAINEZ4SS1EWRLloABrcvuqmDd84tNGvtZXaOtjgOox8gQsBs%2BBoLlbUBUPKA4Zr%2F3gmc9K%2FIl0NZqoZxJAoqeHg043e3ykfP8J3yvLOtO4CuZK%2FHibPbBnb5Yf9oUf9HDAOmagocmouPDa5Gs9%2BWdbZJ68J60ErZrGXEMIOj6ckGOqUB1Og51E5%2BC8gPFerBiC9rte7B9uGYWKLTpoA3REozVYTf1IHmG6JkrG4cshCPygEdus%2F2%2F1pS4A4jAAjFFWSHaZYKiKMXpoGLypQ5RwBExxL3%2BNjQ8qQdoEDjRa%2FcO%2F5%2F6ob79ddrao8LxqDvJDBEriuBLM9yz5wZJrFcMApi78qCL0WhOPDtuSBBriR6bXgIJ992a9W0KOAv610AQTdY9OTBf3Li&X-Amz-Signature=b6092a3d662c72f3505a1e8d84e306a1e0c080e643ef6c99c62855029d1dd952&X-Amz-SignedHeaders=host&x-amz-checksum-mode=ENABLED&x-id=GetObject\"></image>\n\n### 後續可能要調整\n\n- 圖片更新問題：如果部落格文章有更新，圖片也要一併調整，目前只有做到「全部無腦寫入」，還沒辦法修改或是刪除圖片。\n- 圖片最佳化：可以壓縮圖片檔案大小，例如可轉為 webp 或是縮小尺寸。\n\n---\n\n### REF",
  "description": "探索如何自動化 Notion 圖片下載流程，將圖片存放在本地主機並替換部落格文章中的連結，提升網站效能和圖片管理便利性。",
  "articleId": "automate-notion-image-download-local-hosting",
  "publishedAt": "2025-12-11T04:16:08.751Z"
}